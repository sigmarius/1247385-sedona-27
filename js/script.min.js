document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".js-link"),t=document.querySelector(".js-form"),a=t.querySelector("[name=arrival-date]"),o=t.querySelector("[name=living-date]"),d=t.querySelector("[name=adults-amount]"),l=t.querySelector("[name=kids-amount]"),s=!0,n="",r="";try{n=localStorage.getItem("adults"),r=localStorage.getItem("kids")}catch(e){s=!1}t.classList.add("modal-hidden");function i(){t.classList.remove("modal-error")}e.addEventListener("click",function(e){e.preventDefault(),t.classList.toggle("modal-hidden"),t.classList.add("modal-animate"),a.focus(),n&&r&&(d.value=n,l.value=r)}),t.addEventListener("submit",function(e){a.value&&o.value?s&&(localStorage.setItem("adults",d.value),localStorage.setItem("kids",l.value)):(e.preventDefault(),t.classList.remove("modal-animate"),t.classList.add("modal-error"),setTimeout(i,1e3),a.focus())}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),t.classList.contains("modal-hidden")||(t.classList.add("modal-hidden"),t.classList.remove("modal-error")))})});