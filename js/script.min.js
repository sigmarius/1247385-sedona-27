!function(){function e(e){e.preventDefault(),a.classList.add("modal-hidden")}var t=document.querySelector(".js-link"),a=document.querySelector(".js-form"),o=a.querySelector("[name=arrival-date]"),d=a.querySelector("[name=living-date]"),l=a.querySelector("[name=adults-amount]"),n=a.querySelector("[name=kids-amount]"),r=!0,s="",i="";try{s=localStorage.getItem("adults"),i=localStorage.getItem("kids")}catch(e){r=!1}"loading"===document.readyState&&document.addEventListener("DOMContentLoaded",e),t.addEventListener("click",function(e){e.preventDefault(),a.classList.toggle("modal-hidden"),a.classList.remove("modal-error"),o.focus(),s&&i&&(l.value=s,n.value=i)}),a.addEventListener("submit",function(e){o.value&&d.value?r&&(localStorage.setItem("adults",l.value),localStorage.setItem("kids",n.value)):(e.preventDefault(),a.classList.remove("modal-error"),a.offsetWidth=a.offsetWidth,a.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),a.classList.contains("modal-hidden")||(a.classList.add("modal-hidden"),a.classList.remove("modal-error")))})}();